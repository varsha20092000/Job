{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Applicants for Job {{ job_code }}</title>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
  />
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f9f9f9;
      color: #333;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 0 20px;
    }
    h1 {
      font-size: 1.4rem;
      margin-bottom: 1rem;
      color: #007bff;
    }

    /* Applicants list */
    .applicants-list {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    /* Single applicant box horizontally aligned */
    .applicant-box {
      background-color: #fff;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 16px;
      display: flex;
      align-items: center; /* vertically center */
      justify-content: space-between; /* space between left & right */
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }

    /* Left side (avatar + details) */
    .applicant-info {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .avatar {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      overflow: hidden;
    }
    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    .details {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .details .name {
      font-weight: bold;
      font-size: 1rem;
      color: #333;
    }
    .details .info {
      font-size: 0.9rem;
      color: #555;
    }

    /* Right side button */
    .show-details-btn {
      background-color: #007bff;
      color: #fff;
      border: none;
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 0.9rem;
      cursor: pointer;
    }
    .show-details-btn:hover {
      background-color: #0056b3;
    }
    .show-details-link {
  background-color: #007bff;
  color: #fff;
  text-decoration: none;
  padding: 8px 16px;
  border-radius: 4px;
  font-size: 0.9rem;
  display: inline-block;
  text-align: center;
}
.show-details-link:hover {
  background-color: #0056b3;
}

  </style>
</head>
<body>
  <div class="container">
    <h1>Applicants for Job Code: {{ job_code }}</h1>

    {% if applicants %}
      <div class="applicants-list">
        {% for app in applicants %}
        <div class="applicant-box">
          <div class="applicant-info">
            <div class="avatar">
              <img src="{{ app.avatar }}" alt="Avatar">
            </div>
            <div class="details">
              <div class="name">{{ app.name }}</div>
              <div class="info">Age: {{ app.age }}</div>
              <div class="info">Place: {{ app.place }}</div>
              <div class="info">Phone: {{ app.phone }}</div>
            </div>
          </div>
          <a href="{% url 'candidate_detail' app.id %}" class="show-details-link">
            Show Details
          </a>
        </div>
        {% endfor %}
      </div>
    {% else %}
      <p>No applicants found for this job code.</p>
    {% endif %}
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const detailButtons = document.querySelectorAll('.show-details-btn');
      detailButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          alert('Showing details not implemented yet.');
        });
      });
    });
  </script>
</body>
</html>
